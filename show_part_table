
if [ $# -lt 1 ]; then
   echo "Missing parameter - table_name."
   exit 1
fi

OBJECT=$1

$ORACLE_HOME/bin/sqlplus -s '/ as sysdba' << EOF
col owner format a13
col table_name format a40
col column_name format a40

 select 
 t.OWNER,
 t.TABLE_NAME,
 o.created,
 t.TABLESPACE_NAME,
 t.IOT_NAME,
 t.STATUS,
 t.NUM_ROWS
   from dba_tables t, dba_objects o
  where table_name = upper('$OBJECT')
    and t.owner = o.owner
    and t.table_name = o.object_name
    and o.object_type = 'TABLE' ;

 select 
 SEGMENT_NAME,
 TABLESPACE_NAME,
 bytes/1024/1024 MB
   from dba_segments
  where segment_name = upper('$OBJECT');

 select 
 OWNER,
 index_NAME,
 UNIQUENESS,
 TABLESPACE_NAME,
 LEAF_BLOCKS,
 DISTINCT_KEYS,
-- AVG_LEAF_BLOCKS_PER_KEY, AVG_DATA_BLOCKS_PER_KEY,
 last_analyzed,
 STATUS,
 NUM_ROWS 
   from dba_indexes
  where table_name = upper('$OBJECT')
order by owner, index_name;


 select c.index_name, c.column_position, c.column_name
  from dba_ind_columns c, dba_indexes i
 where i.table_name = upper('$OBJECT')
   and c.index_name = i.index_name
   and c.index_owner = i.owner
 order by c.index_owner ,c.index_name, c.column_position, c.column_name;

EOF



