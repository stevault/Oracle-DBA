

SHOWDB=""
FEEDBACK=10
db=$ORACLE_SID

while [ $# -ge 1 ]; do

   opt=$1

   case $opt in
     -d) shift; db=$1; SHOWDB="'$db' DB,"; FEEDBACK=off; shift ;;
      *) echo "I don't know what $opt is." ; exit 2;;
   esac

done

echo "

col name format a45
col time format a35
col restore_point_time format a10
col scn format 999999999999999
col size_in_mb format 999,999
col preserved format a12

set lines 200
set feedback $FEEDBACK

 select $SHOWDB
	name, time, storage_size/1024/1024 size_in_mb, scn, guarantee_flashback_database, database_incarnation#, preserved, restore_point_time
   from v\$restore_point;

" | $ORACLE_HOME/bin/sqlplus -s ${SYSCONN}@${db}


